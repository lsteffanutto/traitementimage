clear all;
close all;
clc;

I1=double(imread('football057.ras'));
figure, imshow(uint8(I1));
title('I1');
drawnow;


I2=double(imread('football058.ras'));
figure, imshow(uint8(I2));
title('I2');
drawnow;

I3=double(imread('football059.ras'));
% figure, imshow(uint8(I3));lear all;

Diff1=I2-I1;
Diff2=I2-I3;
%figure, imshow(uint8(Diff1));
% title('Diff1');
% drawnow;

%figure, imshow(uint8(Diff2));
% title('Diff2');
% drawnow;

[hauteur, longueur ] = size(I1);

decoup= zeros(240,352);

% for i = 1:8:hauteur
%     
%     for j = 1:8:longueur
%         
%         decoup(i,j) = I1(i:i+7,j:j+7);
%                
%     end
%     
% end

%% Affichage des vecteurs de déplacement
[Vx,Vy] = motionAtoB_integer(I2,I1, [8,8], [15,15]); %vecteurs de déplacement (Points arrivé I2, Point de départ I1)
figure, imshow(uint8(I1));
[X,Y] = meshgrid(1:8:longueur,1:8:hauteur);
hold on;
quiver(X,Y,Vx,Vy) %couple coordonnée du vecteur image = en ces points on a les vecteurs en dehors on mets zero
hold off;

%% Compensation du mouvement

Err_img = 




